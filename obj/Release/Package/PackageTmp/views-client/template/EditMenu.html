
<div class="modal-header bg-color">
    <h3 class="modal-title">Cập nhật dữ liệu</h3>
</div>
<div class="modal-body form" ng-init="OnLoad()">
    <div class="form-body form-horizontal">

        <div class="tabbable-custom ">
            <ul class="nav nav-tabs ">
                <li class="active">
                    <a data-target="#tab_1" data-toggle="tab" aria-expanded="true"> Thông tin </a>
                </li>
                <li class="">
                    <a data-target="#tab_2" data-toggle="tab" aria-expanded="false"> Cấu hình  </a>
                </li>

            </ul>
            <div class="tab-content">
                <div class="tab-pane active" id="tab_1">
                    <div class="form-group" style="display:none">
                        <label class="control-label col-md-3">Mã</label>
                        <div class="col-md-3">
                            <input type="text" class="form-control" disabled="disabled" ng-model="itemMenu.Id" name="Id">
                        </div>
                    </div>

                    <div class="form-group {{itemMenuError.ModelState.FCode[1]}}">
                        <label class="control-label col-md-3">Mã Danh mục <span style="color:red">*</span></label>
                        <div class="col-md-6">
                            <input type="text" ng-model-options="{updateOn: 'change'}" ng-change="ValidOnlyCode(itemMenu.FCode)" class="form-control" ng-model="itemMenu.FCode" id="FCode" name="FCode" ng-disabled="read">
                            <span class="help-block"> {{ itemMenuError.ModelState.FCode[0] }} </span>
                        </div>
                    </div>
                    <div class="form-group {{itemMenuError.ModelState.FName[1]}}">
                        <label class="control-label col-md-3">Tên Danh mục <span style="color:red">*</span></label>
                        <div class="col-md-6">
                            <input type="text" class="form-control" ng-model="itemMenu.FName" id="FName" name="FName">
                            <span class="help-block"> {{ itemMenuError.ModelState.FName[0] }} </span>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="control-label col-md-3">Mô tả Danh mục</label>
                        <div class="col-md-6">
                            <input type="text" class="form-control" ng-model="itemMenu.FDescription" name="FName">
                        </div>
                    </div>
                    <div class="form-group {{itemMenuError.ModelState.MainMenu[1]}}">
                        <label class="control-label col-md-3">Danh mục chính</label>
                        <div class="col-md-6">
                            <div class="input-group select2-bootstrap-prepend">
                                <span class="input-group-btn">
                                    <button class="btn btn-default" type="button" data-select2-open="single-prepend-text">
                                        <span class="glyphicon glyphicon-search"></span>
                                    </button>
                                </span>
                                <select ng-model="itemMenu.MainMenu" id="MainMenu" class="form-control select2">
                                    <option value="">Chọn Menu chính</option>
                                    <option ng-repeat="m in MainMenu" value="{{m.FCode}}">{{m.FName}}</option>
                                </select>
                            </div>
                            <span class="help-block"> {{ itemMenuError.ModelState.MainMenu[0] }} </span>
                        </div>

                    </div>
                    <div class="form-group {{itemMenuError.ModelState.ParentMenu[1]}}">
                        <label class="control-label col-md-3">Danh mục cha</label>
                        <div class="col-md-6">
                            <div class="input-group select2-bootstrap-prepend">
                                <span class="input-group-btn">
                                    <button class="btn btn-default" type="button" data-select2-open="single-prepend-text">
                                        <span class="glyphicon glyphicon-search"></span>
                                    </button>
                                </span>
                                <select ng-model="itemMenu.ParentMenu" id="ParentMenu" class="form-control select2">
                                    <option value="">Chọn Menu cha</option>
                                    <option ng-repeat="m in DropMenu" value="{{m.FCode}}">
                                        {{m.FLevel == "2" ? " |--" + m.FName : m.FName }}
                                    </option>
                                </select>
                            </div>
                            <span class="help-block"> {{ itemMenuError.ModelState.ParentMenu[0] }} </span>
                        </div>

                    </div>

                </div>
                <div class="tab-pane" id="tab_2">
                    <div class="form-group">
                        <label class="control-label col-md-3">Cấp</label>
                        <div class="col-md-6">
                            <input type="text" class="form-control" ng-model="itemMenu.FLevel" name="Icon">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-md-3">Thứ tự</label>
                        <div class="col-md-6">
                            <input type="text" class="form-control" ng-model="itemMenu.FIndex" name="Icon">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-md-3">Controller Name</label>
                        <div class="col-md-6">
                            <input type="text" class="form-control" ng-model="itemMenu.ControllerName" name="ControllerName">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-md-3">Url</label>
                        <div class="col-md-6">
                            <input type="text" class="form-control" ng-model="itemMenu.Url" name="Url">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-md-3">Icon</label>
                        <div class="col-md-6">
                            <input type="text" class="form-control" ng-model="itemMenu.Icon" name="Icon">
                        </div>
                    </div>
                    <div class="form-group {{itemMenuError.ModelState.Permission[1]}}">
                        <label class="control-label col-md-3">Chức năng <span style="color:red">*</span></label>
                        <div class="col-md-6">
                            <select ng-model="itemMenuPermission" multiple class="select2 form-control">
                                <option ng-repeat="m in Permission" value="{{m.FCode}}">
                                    {{m.FName }}
                                </option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-md-3">Sử dụng</label>
                        <div class="col-md-6">
                            <div class="mt-checkbox-list">
                                <label class="mt-checkbox mt-checkbox-outline">
                                    <input type="checkbox" ng-model="itemMenu.FInUse" name="Icon">
                                    <span></span>
                                </label>

                            </div>

                        </div>

                    </div>
                </div>
            </div>

        </div>
    </div>
</div>
<div class="modal-footer">
    <button ng-show="AuthorizationPermission('ADD',$stateParams.param.FCode)" class="btn green-haze btn-outline sbold" ng-click="SaveModal()"> Cập nhật </button>
    <button class="btn green-haze btn-outline sbold" ng-click="cancelModal()"> Thoát </button>
</div>


<!--<script>
    jQuery(document).ready(function () {
        ComponentsSelect2.init();
    });
</script>-->
